<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vide√≥ √Åtirat √©s Ford√≠t√°s</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üé¨ Vide√≥ √Åtirat √©s Ford√≠t√°s</h1>
            <div class="auth-box">
                {% if not logged_in %}
                    <a href="{{ url_for('login') }}" class="button">Google Bejelentkez√©s</a>
                {% else %}
                    <span>Bejelentkezve: <strong>{{ user_email }}</strong></span>
                    <a href="{{ url_for('logout') }}" class="button">Kijelentkez√©s</a>
                {% endif %}
            </div>
        </header>

        <div id="statusBox"></div>

        <div class="grid-container">
            <div class="grid-item">
                <h2>Be√°ll√≠t√°sok</h2>
                <div class="input-group">
                    <label for="speechmaticsApiKey">Speechmatics API kulcs:</label>
                    <input type="password" id="speechmaticsApiKey" placeholder="√çrd be a Speechmatics API kulcsod...">
                </div>
                <div class="input-group">
                    <label for="geminiApiKey">Gemini API kulcs:</label>
                    <input type="password" id="geminiApiKey" placeholder="√çrd be a Gemini API kulcsod...">
                </div>

                <h2>Forr√°s megad√°sa</h2>
                 <div class="input-group">
                    <label for="videoUrl">Vide√≥ URL:</label>
                    <input type="text" id="videoUrl" placeholder="https://...">
                </div>
                <p class="separator">VAGY</p>
                 <div class="input-group">
                    <label for="videoFile">T√∂lts fel egy f√°jlt:</label>
                    <input type="file" id="videoFile" accept="video/*,audio/*">
                </div>
                
                <h2>Feldolgoz√°s</h2>
                 <div class="input-group">
                    <label for="language">Forr√°s nyelve:</label>
                    <select id="language">
                        <option value="en">Angol</option>
                        <option value="hu">Magyar</option>
                        <option value="de">N√©met</option>
                        <option value="fr">Francia</option>
                        <option value="es">Spanyol</option>
                    </select>
                </div>
                 <div class="input-group">
                    <label for="transcriptionService">√Åt√≠r√≥ szolg√°ltat√°s:</label>
                    <select id="transcriptionService">
                      <option value="speechmatics" selected>Speechmatics</option>
                      <option value="whisper">Whisper (k√ºls≈ë szerver)</option>
                    </select>
                </div>
                <button onclick="startTranscription()" class="button primary-button">üöÄ √Åtirat Ind√≠t√°sa</button>
            </div>

            <div class="grid-item">
                <h2>Eredm√©nyek</h2>
                <div class="tabs">
                    <button class="tab-link active" onclick="openTab(event, 'transcription')">√Åtirat (SRT)</button>
                    <button class="tab-link" onclick="openTab(event, 'translation')">Ford√≠t√°s</button>
                </div>

                <div id="transcription" class="tab-content active">
                    <h3>Eredeti √°tirat</h3>
                    <textarea id="srtText" rows="15" placeholder="Az √°tirat itt fog megjelenni..."></textarea>
                </div>

                <div id="translation" class="tab-content">
                    <h3>Ford√≠t√°s</h3>
                     <div class="input-group">
                        <label for="targetLanguage">C√©lnyelv:</label>
                        <select id="targetLanguage">
                            <option value="hu">Magyar</option>
                            <option value="en">Angol</option>
                            <option value="de">N√©met</option>
                            <option value="fr">Francia</option>
                            <option value="es">Spanyol</option>
                        </select>
                    </div>
                    <button onclick="translateSrt()" class="button">üåê Ford√≠t√°s</button>
                    <textarea id="translatedText" rows="15" placeholder="A ford√≠tott sz√∂veg itt fog megjelenni..."></textarea>
                    <div class="button-group">
                        <button onclick="downloadSrt()" class="button">‚¨áÔ∏è Felirat let√∂lt√©se</button>
                        <button onclick="uploadToDrive()" class="button">‚òÅÔ∏è Felt√∂lt√©s Google Drive-ra</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
