<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vide√≥ √Åtirat √©s Ford√≠t√°s</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <h1>üé¨ Vide√≥ √Åtirat √©s Ford√≠t√°s</h1>

        <div class="auth-box">
            {% if not logged_in %}
                <a href="{{ url_for('login') }}">
                    <button>Bejelentkez√©s Google-lel</button>
                </a>
            {% else %}
                <p>Bejelentkezve: <strong>{{ user_email }}</strong> | <a href="{{ url_for('logout') }}">Kijelentkez√©s</a></p>
            {% endif %}
        </div>
        
        <div id="statusBox"></div>

        <div class="grid-container">
            <div class="box">
                <h2>Be√°ll√≠t√°sok</h2>
                
                {% if transcription_service == 'speechmatics' %}
                <label for="speechmaticsApiKey">Speechmatics API kulcs:</label>
                <input type="password" id="speechmaticsApiKey" placeholder="Add meg a Speechmatics API kulcsot">
                {% endif %}
                
                <label for="geminiApiKey">Gemini API kulcs:</label>
                <input type="password" id="geminiApiKey" placeholder="Add meg a Gemini API kulcsot">
                <input type="hidden" id="activeService" value="{{ transcription_service }}">
            </div>

            <div class="box">
                <h2>Vide√≥ feldolgoz√°sa</h2>
                <input type="url" id="videoUrl" placeholder="Vide√≥ URL (YouTube, Pornhub, stb.)">
                <label for="language">V√°laszd ki a vide√≥ nyelv√©t:</label>
                <select id="language" name="language">
                    <option value="en">Angol</option>
                    <option value="hu">Magyar</option>
                    <option value="de">N√©met</option>
                    <option value="fr">Francia</option>
                    <option value="es">Spanyol</option>
                    <option value="it">Olasz</option>
                    <option value="ru">Orosz</option>
                    <option value="ja">Jap√°n</option>
                    <option value="pl">Lengyel</option>
                    <option value="ro">Rom√°n</option>
                    <option value="uk">Ukr√°n</option>
                    <option value="zh">K√≠nai</option>
                </select>
                <button onclick="startTranscription()">√Åtirat ind√≠t√°sa</button>
            </div>

            <div class="box full-width">
                <h2>√Åtirat (SRT)</h2>
                <textarea id="srtText" rows="10" placeholder="Itt jelenik meg az eredeti √°tirat..."></textarea>
            </div>

            <div class="box">
                <h2>Ford√≠t√°s</h2>
                <button onclick="translateSrt()">üåê Ford√≠t√°s Gemini-vel</button>
            </div>

            <div class="box">
                <h2>Vide√≥ let√∂lt√©se</h2>
                <label for="resolution">Felbont√°s:</label>
                <select id="resolution">
                    <option value="360">360p</option>
                    <option value="480">480p</option>
                    <option value="720">720p</option>
                    <option value="1080">1080p</option>
                </select>
                <button onclick="downloadVideo()">üé¨ Vide√≥ let√∂lt√©se</button>
            </div>

            <div class="box full-width">
                <h2>Ford√≠tott felirat</h2>
                <textarea id="translatedText" rows="10" placeholder="Itt jelenik meg a leford√≠tott felirat..."></textarea>
                <button onclick="downloadSrt()">‚¨áÔ∏è Ford√≠tott felirat let√∂lt√©se</button>
                {% if logged_in %}
                <button onclick="uploadToDrive()">‚òÅÔ∏è Felt√∂lt√©s Google Drive-ra</button>
                {% endif %}
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
