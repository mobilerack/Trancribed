<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>Vide√≥ √Åtirat √©s Ford√≠t√°s</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
  <style>
    body { font-family: Arial, sans-serif; max-width: 900px; margin: auto; padding: 20px; }
    textarea { width: 100%; height: 200px; }
    button { margin: 10px 0; padding: 10px 15px; cursor: pointer; }
    .login-box { margin: 20px 0; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h1>üé¨ Vide√≥ √Åtirat √©s Ford√≠t√°s</h1>

  <!-- Google login -->
  <div class="login-box">
    {% if not logged_in %}
      <form action="/login" method="get">
        <label>
          <input type="checkbox" name="stay_logged_in" value="true"> Maradjak bejelentkezve
        </label>
        <button type="submit">Google bejelentkez√©s</button>
      </form>
    {% else %}
      <p>Bejelentkezve: {{ user_email }}</p>
      <a href="/logout"><button>Kijelentkez√©s</button></a>
    {% endif %}
  </div>

  <!-- API kulcsok -->
  <div>
    <label>Speechmatics API kulcs:</label>
    <input type="text" id="speechmaticsApiKey" placeholder="Ide √≠rd a Speechmatics API kulcsot">
    <br>
    <label>Gemini API kulcs:</label>
    <input type="text" id="geminiApiKey" placeholder="Ide √≠rd a Gemini API kulcsot">
  </div>

  <hr>

  <!-- Vide√≥ feldolgoz√°s -->
  <h2>Vide√≥ feldolgoz√°sa</h2>
  <input type="text" id="videoUrl" placeholder="Vide√≥ URL (pl. YouTube, Pornhub)">
  <br>
  <label for="language">V√°laszd ki a vide√≥ nyelv√©t:</label>
  <select id="language">
    <option value="en">Angol</option>
    <option value="hu">Magyar</option>
    <option value="de">N√©met</option>
    <option value="fr">Francia</option>
    <option value="es">Spanyol</option>
    <option value="it">Olasz</option>
    <option value="ru">Orosz</option>
    <option value="ja">Jap√°n</option>
  </select>
  <br>
  <button onclick="startTranscription()">√Åtirat ind√≠t√°sa</button>

  <div id="statusBox"></div>

  <hr>

  <!-- SRT -->
  <h2>√Åtirat (SRT)</h2>
  <textarea id="srtText" readonly></textarea>
  <br>
  <button onclick="downloadSrt()">‚¨áÔ∏è Felirat let√∂lt√©se</button>
  <button onclick="uploadToDrive()">‚òÅÔ∏è Felt√∂lt√©s Google Drive-ra</button>

  <hr>

  <!-- Ford√≠t√°s -->
  <h2>Ford√≠t√°s</h2>
  <label for="targetLanguage">Ford√≠t√°s nyelve:</label>
  <select id="targetLanguage">
    <option value="hu">Magyar</option>
    <option value="en">Angol</option>
    <option value="de">N√©met</option>
    <option value="fr">Francia</option>
    <option value="es">Spanyol</option>
    <option value="it">Olasz</option>
    <option value="ru">Orosz</option>
    <option value="ja">Jap√°n</option>
  </select>
  <br>
  <button onclick="translateSrt()">üåê Ford√≠t√°s</button>

  <h3>Ford√≠tott felirat</h3>
  <textarea id="translatedText" readonly></textarea>

</body>
</html>
